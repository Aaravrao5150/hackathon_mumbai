<div class="card">
<h2>Hours Report</h2>
<div id="rep"></div>
</div>

<script>
async function load(){

 let user=auth.currentUser;
 let roll=user.email.split("@")[0];

 let snap=await db.collection("attendance")
            .where("roll","==",roll).get();

 let total=0;

 snap.forEach(d=>{
   total+=d.data().hours||0;
 });

 rep.innerHTML="Total Hours: <b>"+total+"</b>";
}

auth.onAuthStateChanged(load);
</script>
