<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="nav">SMART ATTENDANCE SYSTEM</div>

<div class="card">

<h2>Login</h2>

<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">

<button onclick="login()">Login</button>

</div>

<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>

<script src="firebase-init.js"></script>

<script>
function login(){

 let selected = localStorage.getItem("role") || "student";

 auth.signInWithEmailAndPassword(
   email.value,
   pass.value
 )
 .then(()=>{

   // FORCE role based routing
   if(selected == "teacher")
      location="teacher.html";
   else
      location="preload.html";

 })
 .catch(e=>alert(e.message));
}
</script>

</body>
</html>
